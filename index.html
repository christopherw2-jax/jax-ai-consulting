<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JAX AI Consulting - AI Solutions for Small Business</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2563eb;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #2563eb;
        }

        .cta-button {
            background: #2563eb;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
        }

        .cta-button:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8rem 0 6rem;
            text-align: center;
            margin-top: 80px;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-primary {
            background: white;
            color: #2563eb;
            padding: 1rem 2rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
            padding: 1rem 2rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background: white;
            color: #2563eb;
        }

        /* Problem Section */
        .problem-section {
            padding: 6rem 0;
            background: #f8fafc;
        }

        .problem-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .problem-text h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #1e293b;
        }

        .problem-text p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            color: #64748b;
        }

        .problem-list {
            list-style: none;
            margin-bottom: 2rem;
        }

        .problem-list li {
            padding: 0.75rem 0;
            border-left: 4px solid #ef4444;
            padding-left: 1.5rem;
            margin-bottom: 1rem;
            background: white;
            border-radius: 0 6px 6px 0;
        }

        .solution-box {
            background: white;
            padding: 3rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .solution-box h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #059669;
        }

        /* Services Section */
        .services {
            padding: 6rem 0;
            background: white;
        }

        .services h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #1e293b;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .service-card {
            background: #f8fafc;
            padding: 2.5rem;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s;
            border: 1px solid #e2e8f0;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .service-icon {
            width: 80px;
            height: 80px;
            background: #2563eb;
            border-radius: 50%;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
        }

        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #1e293b;
        }

        .service-card p {
            color: #64748b;
            margin-bottom: 1.5rem;
        }

        .service-examples {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: left;
        }

        .service-examples h4 {
            font-size: 0.9rem;
            text-transform: uppercase;
            color: #2563eb;
            margin-bottom: 1rem;
        }

        .service-examples ul {
            list-style: none;
        }

        .service-examples li {
            padding: 0.5rem 0;
            color: #64748b;
            position: relative;
            padding-left: 1.5rem;
        }

        .service-examples li::before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #059669;
            font-weight: bold;
        }

        /* Pricing Section */
        .pricing {
            padding: 6rem 0;
            background: #f8fafc;
        }

        .pricing h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #1e293b;
        }

        .pricing-subtitle {
            text-align: center;
            font-size: 1.25rem;
            color: #059669;
            font-weight: 600;
            margin-bottom: 4rem;
        }

        .pricing-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: start;
            margin-bottom: 4rem;
        }

        .pricing-text h3 {
            font-size: 1.75rem;
            margin-bottom: 2rem;
            color: #1e293b;
        }

        .pricing-steps {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .pricing-step {
            display: flex;
            align-items: start;
            gap: 1rem;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: #2563eb;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .step-content h4 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: #1e293b;
        }

        .step-content p {
            color: #64748b;
            font-size: 0.95rem;
        }

        .pricing-example {
            background: white;
            padding: 2.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            height: fit-content;
        }

        .pricing-example h3 {
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
            color: #1e293b;
            text-align: center;
        }

        .example-card {
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
        }

        .example-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .example-row:last-of-type {
            border-bottom: none;
        }

        .example-row.total {
            background: #f0fdf4;
            border-top: 2px solid #059669;
            font-weight: 700;
        }

        .example-label {
            color: #64748b;
            font-weight: 500;
        }

        .example-value {
            color: #1e293b;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .example-row.total .example-value {
            color: #059669;
            font-size: 1.25rem;
        }

        .example-note {
            background: #dbeafe;
            padding: 1rem 1.5rem;
            border-top: 1px solid #e2e8f0;
        }

        .example-note p {
            color: #1e40af;
            font-weight: 500;
            font-size: 0.9rem;
            text-align: center;
            margin: 0;
        }

        .pricing-guarantee {
            background: white;
            padding: 2.5rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-left: 4px solid #059669;
        }

        .pricing-guarantee h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #059669;
        }

        .pricing-guarantee p {
            color: #64748b;
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }
        .social-proof {
            padding: 6rem 0;
            background: #1e293b;
            color: white;
            text-align: center;
        }

        .social-proof h2 {
            font-size: 2.5rem;
            margin-bottom: 3rem;
        }

        .testimonial {
            max-width: 800px;
            margin: 0 auto;
            background: #334155;
            padding: 3rem;
            border-radius: 12px;
            border-left: 4px solid #2563eb;
        }

        .testimonial blockquote {
            font-size: 1.25rem;
            font-style: italic;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .testimonial cite {
            font-weight: 600;
            color: #94a3b8;
        }

        /* About Section */
        .about {
            padding: 6rem 0;
            background: white;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .about-text h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #1e293b;
        }

        .about-text p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            color: #64748b;
        }

        .about-image {
            height: 400px;
            position: relative;
        }

        .about-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
        }

        /* Final CTA Section */
        .final-cta {
            padding: 6rem 0;
            background: #2563eb;
            color: white;
            text-align: center;
        }

        .final-cta h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }

        .final-cta p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        /* Footer */
        footer {
            background: #1e293b;
            color: white;
            padding: 3rem 0;
            text-align: center;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: #2563eb;
        }

        .footer-section p, .footer-section a {
            color: #94a3b8;
            text-decoration: none;
        }

        .footer-section a:hover {
            color: white;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: block;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            max-width: 900px;
            max-height: 90vh;
            width: 90%;
            overflow-y: auto;
            box-shadow: 0 25px 60px rgba(0,0,0,0.4);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #64748b;
            z-index: 10001;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: #f1f5f9;
            color: #ef4444;
        }

        /* Assessment Tool Styles */
        .assessment-container {
            padding: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 20px;
        }

        .intake-card {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 700px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .intake-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #2563eb, #059669);
        }

        .intake-card h1 {
            color: #1e293b;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .subtitle {
            color: #64748b;
            font-size: 1.2rem;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .conversation-display {
            margin-top: 2rem;
            text-align: left;
            max-height: 400px;
            overflow-y: auto;
            background: #f8fafc;
            border-radius: 12px;
            padding: 1.5rem;
            min-height: 200px;
        }

        .message {
            margin-bottom: 1.5rem;
            padding: 1rem;
            border-radius: 12px;
            max-width: 85%;
            animation: fadeIn 0.5s ease-in;
            font-size: 1rem;
            line-height: 1.5;
            color: #1f2937;
        }

        .message.ai {
            background: #dbeafe;
            border-left: 4px solid #2563eb;
            margin-right: auto;
            color: #1e293b;
        }

        .message.user {
            background: #dcfce7;
            border-right: 4px solid #059669;
            margin-left: auto;
            text-align: right;
            color: #1e293b;
        }

        .message.thinking {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            margin-right: auto;
            font-style: italic;
            color: #92400e;
        }

        .message-label {
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            opacity: 0.7;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .input-section {
            margin-top: 2rem;
        }

        .text-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            resize: vertical;
            min-height: 60px;
            margin-bottom: 1rem;
            font-family: inherit;
        }

        .text-input:focus {
            outline: none;
            border-color: #2563eb;
        }

        .input-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            justify-content: center;
        }

        .voice-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #2563eb 0%, #059669 100%);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .voice-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.4);
        }

        .voice-button.listening {
            animation: pulse 2s infinite;
            background: linear-gradient(135deg, #ef4444 0%, #f97316 100%);
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 5px 15px rgba(239, 68, 68, 0.3); }
            50% { transform: scale(1.1); box-shadow: 0 8px 20px rgba(239, 68, 68, 0.6); }
            100% { transform: scale(1); box-shadow: 0 5px 15px rgba(239, 68, 68, 0.3); }
        }

        .input-button {
            background: #2563eb;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .input-button:hover {
            background: #1d4ed8;
        }

        .input-button:disabled {
            background: #94a3b8;
            cursor: not-allowed;
        }

        .status-text {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #64748b;
            text-align: center;
        }

        .summary-card {
            background: #f8fafc;
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
            text-align: left;
            border-left: 4px solid #059669;
        }

        .summary-card h3 {
            color: #059669;
            margin-bottom: 1rem;
        }

        .summary-item {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-label {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .summary-value {
            color: #64748b;
        }

        .assessment-cta-button {
            background: linear-gradient(135deg, #2563eb 0%, #059669 100%);
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            display: inline-block;
            margin-top: 2rem;
            transition: all 0.3s ease;
        }

        .assessment-cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
        }

        .error-message {
            color: #ef4444;
            background: #fee2e2;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            text-align: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .problem-content,
            .about-content,
            .pricing-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }

            .container {
                padding: 0 15px;
            }

            .modal-content {
                width: 95%;
                max-height: 95vh;
            }

            .assessment-container {
                padding: 1rem;
            }

            .intake-card {
                padding: 2rem;
            }

            .intake-card h1 {
                font-size: 2rem;
            }

            .input-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <div class="logo">JAX AI Consulting</div>
            <ul class="nav-links">
                <li><a href="#services">Services</a></li>
                <li><a href="#pricing">Pricing</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <button class="cta-button" onclick="openAssessment()">Get Your Free AI Assessment</button>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>AI Solutions That Actually Work for Small Business</h1>
            <p>Help your retail shop, salon, or clinic save 10+ hours per week with simple AI automation that just works.</p>
            <div class="hero-buttons">
                <button class="btn-primary" onclick="openAssessment()">Get Your Free AI Assessment</button>
                <a href="#services" class="btn-secondary">See How It Works</a>
            </div>
        </div>
    </section>

    <!-- Problem/Solution Section -->
    <section class="problem-section">
        <div class="container">
            <div class="problem-content">
                <div class="problem-text">
                    <h2>Tired of Repetitive Tasks Eating Up Your Day?</h2>
                    <p>You didn't start your business to spend hours on:</p>
                    <ul class="problem-list">
                        <li>Manually scheduling appointments and sending reminders</li>
                        <li>Following up with customers after every visit</li>
                        <li>Tracking inventory and reordering supplies</li>
                        <li>Writing the same emails and responses over and over</li>
                        <li>Managing social media posts and reviews</li>
                    </ul>
                    <p><strong>What if you could automate all of this and get back to what you love about your business?</strong></p>
                </div>
                <div class="solution-box">
                    <h3>The JAX AI Solution</h3>
                    <p>We help small business owners like you implement simple AI tools that work 24/7, so you don't have to.</p>
                    <p>Our clients typically save 10-15 hours per week and see immediate improvements in customer satisfaction and revenue.</p>
                    <p><strong>No tech experience required.</strong> We handle the setup, training, and ongoing support.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="container">
            <h2>Optimize. Streamline. Automate.</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">ðŸ“Š</div>
                    <h3>Optimize</h3>
                    <p>Turn your business data into actionable insights that drive smarter decisions and increased revenue.</p>
                    <div class="service-examples">
                        <h4>Real Examples:</h4>
                        <ul>
                            <li>Customer behavior analysis</li>
                            <li>Peak hours optimization</li>
                            <li>Inventory demand forecasting</li>
                            <li>Revenue trend reporting</li>
                        </ul>
                    </div>
                </div>
                <div class="service-card">
                    <div class="service-icon">âš¡</div>
                    <h3>Streamline</h3>
                    <p>Automate booking, billing, and customer communications with seamless AI-powered workflows.</p>
                    <div class="service-examples">
                        <h4>Real Examples:</h4>
                        <ul>
                            <li>Automated appointment scheduling</li>
                            <li>Smart customer communications</li>
                            <li>Invoice and payment processing</li>
                            <li>Review request automation</li>
                        </ul>
                    </div>
                </div>
                <div class="service-card">
                    <div class="service-icon">ðŸ¤–</div>
                    <h3>Automate</h3>
                    <p>Set up intelligent systems that handle repetitive tasks 24/7, giving you time to focus on growing your business.</p>
                    <div class="service-examples">
                        <h4>Real Examples:</h4>
                        <ul>
                            <li>Customer service chatbots</li>
                            <li>Social media management</li>
                            <li>Email marketing campaigns</li>
                            <li>Inventory alerts and reordering</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing" id="pricing">
        <div class="container">
            <h2>Pay for Performance Pricing</h2>
            <p class="pricing-subtitle">You only pay when we prove we've saved you time and money</p>
            
            <div class="pricing-content">
                <div class="pricing-text">
                    <h3>How Our Unique Pricing Works</h3>
                    <div class="pricing-steps">
                        <div class="pricing-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Free Consultation</h4>
                                <p>We identify your pain points and you tell us what your time is worth per hour</p>
                            </div>
                        </div>
                        <div class="pricing-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>We Build Your Solution</h4>
                                <p>We develop and deliver your complete AI automation system at no upfront cost</p>
                            </div>
                        </div>
                        <div class="pricing-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>You Confirm Time Savings</h4>
                                <p>You tell us exactly how many hours per week our solution saves you</p>
                            </div>
                        </div>
                        <div class="pricing-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h4>You Pay 10% of Annual Savings</h4>
                                <p>Your fee is just 10% of the money you save per year, includes 12 months of support</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="pricing-example">
                    <h3>Real Example</h3>
                    <div class="example-card">
                        <div class="example-row">
                            <span class="example-label">Your time value:</span>
                            <span class="example-value">$50/hour</span>
                        </div>
                        <div class="example-row">
                            <span class="example-label">Time saved weekly:</span>
                            <span class="example-value">4 hours</span>
                        </div>
                        <div class="example-row">
                            <span class="example-label">Annual savings:</span>
                            <span class="example-value">$10,400</span>
                        </div>
                        <div class="example-row total">
                            <span class="example-label">Your investment:</span>
                            <span class="example-value">$1,040</span>
                        </div>
                        <div class="example-note">
                            <p>That's a 10x return on investment, plus you get your time back to focus on growing your business!</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="pricing-guarantee">
                <h3>Our No-Risk Guarantee</h3>
                <p>We don't get paid until your solution is complete and you confirm it's saving you time. If we can't demonstrate measurable time savings, you pay nothing.</p>
            </div>
        </div>
    </section>
    <section class="social-proof">
        <div class="container">
            <h2>Real Results from Real Businesses</h2>
            <div class="testimonial">
                <blockquote>
                    "JAX AI helped us automate our appointment reminders and follow-up emails. We went from spending 8 hours a week on administrative tasks to just 30 minutes. Our no-show rate dropped by 40% and customer satisfaction is through the roof."
                </blockquote>
                <cite>â€” Sarah M., Hair Salon Owner</cite>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>Your Local AI Partner</h2>
                    <p>I'm not a big tech company or startup. I'm a local consultant who understands small business because I've been there.</p>
                    <p>I specialize in taking complex AI technology and making it simple, practical, and profitable for business owners who want results, not tech headaches.</p>
                    <p>My approach is personal, patient, and focused on your specific business needs. I'll work with you step-by-step to implement AI solutions that actually save you time and money.</p>
                    <p><strong>Based in Jacksonville, FL</strong> - available for in-person consultations and ongoing support.</p>
                </div>
                <div class="about-image">
                    <img src="https://previews.dropbox.com/p/thumb/ACsO6Zh1T0efmNkyxrPhGoQ-cJcVpgKHdi2k2hVlnfwtUpFEEulX8U2HVYL3gdm_DgLXHFLkK-kczfj6Vwpkxpft3DZ_1cMEgLB0dPz6_0xwucpKjKku7pXRi9WYK6PvzkUiiESfeu6t4Y5Kj0qA3P-d-gdKmqSnvNhbUYheLbSi3n410INNfv7BWKDzjRg2WgEem-LF_BAeDa6PjbYZk6WL0rTkDUmGteCvmDzoTjhfdNscGbSw-LjoPmOXbjDYhw3MmJjIaq8pvngUfb3NxddMMTn1w7GJY6RYwj2KJ2FjPM5BXvf0EPEO0mI-7gLcqK3HtcNxcidhrlIMMDHY1YB4/p.jpeg?is_prewarmed=true" alt="Professional headshot" />
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA -->
    <section class="final-cta" id="contact">
        <div class="container">
            <h2>Ready to Get 10+ Hours Back Every Week?</h2>
            <p>Let's talk about how AI can transform your business. No tech jargon, no pushy sales pitch - just practical solutions that work.</p>
            <button class="btn-primary" onclick="openAssessment()">Get Your Free AI Assessment</button>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>JAX AI Consulting</h3>
                    <p>AI solutions that actually work for small business owners.</p>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>hello@jaxaiconsulting.com</p>
                    <p>Jacksonville, FL</p>
                </div>
                <div class="footer-section">
                    <h3>Services</h3>
                    <p>AI Strategy & Implementation</p>
                    <p>Business Process Automation</p>
                    <p>Training & Support</p>
                </div>
            </div>
            <p>&copy; 2025 JAX AI Consulting. All rights reserved.</p>
        </div>
    </footer>

    <!-- Assessment Modal -->
    <div id="assessmentModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeAssessment()">&times;</button>
            <div class="assessment-container">
                <div class="intake-card">
                    <h1>AI Business Assessment</h1>
                    <p class="subtitle">Let's have a natural conversation about your business and discover how AI can help you save 10+ hours per week.</p>
                    
                    <!-- Auto-start assessment (API key embedded) -->
                    <div id="loadingMessage" style="text-align: center; padding: 2rem;">
                        <p>Starting your AI assessment...</p>
                    </div>

                    <div class="conversation-display" id="conversationDisplay" style="display: none;">
                    </div>

                    <div class="input-section" id="inputSection" style="display: none;">
                        <textarea class="text-input" id="textInput" placeholder="Type your response here..."></textarea>
                        <div class="input-controls">
                            <button class="voice-button" id="voiceButton" title="Click to speak">ðŸŽ¤</button>
                            <button class="input-button" id="submitButton" onclick="sendMessage()">Send</button>
                        </div>
                        <div class="status-text" id="statusText"></div>
                    </div>

                    <div class="summary-card" id="summaryCard" style="display: none;">
                        <h3>Your Business Assessment Summary</h3>
                        <div id="summaryContent"></div>
                        <a href="#" class="assessment-cta-button" id="emailResultsButton">Send Results & Schedule Follow-up</a>
                    </div>

                    <div class="error-message" id="errorMessage" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add scroll effect to header
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(255, 255, 255, 0.95)';
                header.style.backdropFilter = 'blur(10px)';
            } else {
                header.style.background = '#fff';
                header.style.backdropFilter = 'none';
            }
        });

        // Modal functions for main website
        function openAssessment() {
            console.log('openAssessment called');
            const modal = document.getElementById('assessmentModal');
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Initialize assessment if not already done
                if (!window.assessmentInitialized) {
                    console.log('Initializing assessment');
                    new DynamicAIAssessment();
                    window.assessmentInitialized = true;
                }
            } else {
                console.error('Modal not found!');
            }
        }

        function closeAssessment() {
            const modal = document.getElementById('assessmentModal');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }

        // Close modal when clicking outside or pressing Escape
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('assessmentModal');
            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeAssessment();
                    }
                });
            }
            
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeAssessment();
                }
            });
        });

        function saveApiKey() {
            // No API key needed in frontend anymore
            document.getElementById('loadingMessage').style.display = 'none';
            document.getElementById('conversationDisplay').style.display = 'block';
            document.getElementById('inputSection').style.display = 'block';
            
            if (window.assessmentSystem) {
                window.assessmentSystem.startAssessment();
            }
        }

        function sendMessage() {
            if (window.assessmentSystem) {
                window.assessmentSystem.sendMessage();
            }
        }

        class DynamicAIAssessment {
            constructor() {
                this.conversationHistory = [];
                this.businessData = {};
                this.isListening = false;
                this.recognition = null;
                this.currentQuestion = 1;
                this.maxQuestions = 9;
                this.solutionProposalGenerated = false;
                this.questionFlow = [
                    {
                        id: 'contact_name',
                        prompt: 'What is your full name?',
                        dataKey: 'contact_name'
                    },
                    {
                        id: 'business_name',
                        prompt: 'What is your business name?',
                        dataKey: 'business_name'
                    },
                    {
                        id: 'contact_email',
                        prompt: 'What is your email address?',
                        dataKey: 'contact_email'
                    },
                    {
                        id: 'contact_phone',
                        prompt: 'What is your phone number?',
                        dataKey: 'contact_phone'
                    },
                    {
                        id: 'business_type',
                        prompt: 'What type of business do you run and where are you located?',
                        dataKey: 'business_type'
                    },
                    {
                        id: 'pain_points', 
                        prompt: 'What current pain points or tasks are taking the most time or costing you revenue?',
                        dataKey: 'pain_points'
                    },
                    {
                        id: 'current_solution',
                        prompt: 'What solutions do you currently have in place for these challenges, or are you handling everything manually?',
                        dataKey: 'current_solution'
                    },
                    {
                        id: 'time_savings',
                        prompt: 'If we could automate or streamline these processes, how many hours per week do you think you could recapture?',
                        dataKey: 'time_savings'
                    },
                    {
                        id: 'time_value',
                        prompt: 'What value do you put on your time per hour? This helps us calculate the ROI of potential solutions.',
                        dataKey: 'time_value'
                    }
                ];
                
                window.assessmentSystem = this;
                this.init();
                
                // Auto-start with embedded API key
                setTimeout(() => {
                    saveApiKey();
                }, 1000);
            }

            init() {
                this.setupSpeechRecognition();
                this.setupEventListeners();
            }

            setupSpeechRecognition() {
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    this.recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                    this.recognition.continuous = false;
                    this.recognition.interimResults = false;
                    this.recognition.lang = 'en-US';

                    this.recognition.onstart = () => {
                        this.isListening = true;
                        this.updateVoiceButton();
                        this.updateStatus('Listening... speak now');
                    };

                    this.recognition.onend = () => {
                        this.isListening = false;
                        this.updateVoiceButton();
                        this.updateStatus('');
                    };

                    this.recognition.onresult = (event) => {
                        const transcript = event.results[0][0].transcript;
                        document.getElementById('textInput').value = transcript;
                        this.sendMessage();
                    };

                    this.recognition.onerror = () => {
                        this.showError('Speech recognition error. Please try typing instead.');
                        this.isListening = false;
                        this.updateVoiceButton();
                    };
                }
            }

            setupEventListeners() {
                document.getElementById('voiceButton').addEventListener('click', () => {
                    if (this.isListening) {
                        this.stopListening();
                    } else {
                        this.startListening();
                    }
                });

                document.getElementById('textInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });
            }

            startAssessment() {
                const welcomeMessage = `Hi! I'm Claude, and I'll help JAX AI Consulting understand how we can best serve your business. I have 9 focused questions that should take just a few minutes.

Let's start: What is your full name?`;

                this.addMessage(welcomeMessage, 'ai');
                this.updateStatus(`Question ${this.currentQuestion} of ${this.maxQuestions}`);
            }

            startListening() {
                if (this.recognition) {
                    this.recognition.start();
                }
            }

            stopListening() {
                if (this.recognition) {
                    this.recognition.stop();
                }
            }

            updateVoiceButton() {
                const button = document.getElementById('voiceButton');
                
                if (this.isListening) {
                    button.classList.add('listening');
                    button.innerHTML = 'ðŸ”´';
                    button.title = 'Click to stop listening';
                } else {
                    button.classList.remove('listening');
                    button.innerHTML = 'ðŸŽ¤';
                    button.title = 'Click to speak';
                }
            }

            updateStatus(message) {
                document.getElementById('statusText').textContent = message;
            }

            async sendMessage() {
                const input = document.getElementById('textInput');
                const message = input.value.trim();
                
                if (!message) return;

                const submitButton = document.getElementById('submitButton');
                submitButton.disabled = true;
                submitButton.textContent = 'Sending...';

                this.addMessage(message, 'user');
                input.value = '';

                // Check if this is a response to consultation question (after solution proposal)
                if (this.solutionProposalGenerated) {
                    if (message.toLowerCase().includes('yes') || message.toLowerCase().includes('schedule') || message.toLowerCase().includes('consultation')) {
                        this.handleConsultationRequest(message);
                        submitButton.disabled = false;
                        submitButton.textContent = 'Send';
                        return;
                    } else {
                        // Just acknowledge their response without repeating the proposal
                        this.addMessage('Thank you for your response. Let me know if you have any questions or if you\'d like to schedule a consultation!', 'ai');
                        submitButton.disabled = false;
                        submitButton.textContent = 'Send';
                        return;
                    }
                }

                this.addMessage('Thinking...', 'thinking');

                try {
                    const response = await this.getAIResponse(message);
                    this.removeLastMessage();
                    this.addMessage(response, 'ai');
                    
                    // Don't call checkAssessmentProgress - let advanceQuestion handle the flow
                } catch (error) {
                    this.removeLastMessage();
                    console.error('Full error details:', error);
                    
                    let errorMessage = 'Sorry, there was an error. ';
                    if (error.message.includes('Invalid API key')) {
                        errorMessage += 'Please check your API key is correct and starts with "sk-ant-".';
                    } else if (error.message.includes('Rate limit')) {
                        errorMessage += 'Too many requests. Please wait a moment and try again.';
                    } else if (error.message.includes('credits') || error.message.includes('billing')) {
                        errorMessage += 'Please check your Anthropic account has sufficient credits.';
                    } else {
                        errorMessage += `Details: ${error.message}`;
                    }
                    
                    this.showError(errorMessage);
                } finally {
                    submitButton.disabled = false;
                    submitButton.textContent = 'Send';
                }
            }

            handleConsultationRequest(message) {
                // Add user response to conversation
                this.conversationHistory.push({
                    role: 'user',
                    content: message
                });

                // Send assessment data to webhook
                this.sendAssessmentToWebhook();
                
                // Show confirmation message
                this.addMessage('Perfect! I\'ve sent your assessment details to JAX AI Consulting. Someone will reach out within 24 hours to schedule your consultation. Thank you for your interest!', 'ai');
                
                // Hide input section
                document.getElementById('inputSection').style.display = 'none';
                this.updateStatus('Assessment complete - You will be contacted within 24 hours');
            }

            async sendAssessmentToWebhook() {
                try {
                    const functionUrl = window.location.hostname === 'localhost' 
                        ? 'http://localhost:8888/.netlify/functions/ai-assessment'
                        : '/.netlify/functions/ai-assessment';

                    // Build structured data payload with separate fields
                    const assessmentPayload = {
                        businessData: this.businessData,
                        conversationHistory: this.conversationHistory,
                        solutionProposal: this.getSolutionFromConversation(),
                        contactName: this.businessData.contact_name || '',
                        businessName: this.businessData.business_name || '',
                        contactEmail: this.businessData.contact_email || '',
                        contactPhone: this.businessData.contact_phone || '',
                        submittedAt: new Date().toISOString(),
                        leadScore: this.calculateLeadScore()
                    };

                    const response = await fetch(functionUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            isConsultationRequest: true,
                            assessmentData: assessmentPayload
                        })
                    });

                    if (response.ok) {
                        console.log('Assessment data sent to webhook successfully');
                        
                        // Still open email as backup
                        this.openBackupEmail();
                    } else {
                        console.error('Webhook failed, using email backup');
                        this.openBackupEmail();
                    }

                } catch (error) {
                    console.error('Webhook error:', error);
                    // Fallback to email
                    this.openBackupEmail();
                }
            }

            getSolutionFromConversation() {
                // Find the AI solution proposal in conversation history
                const solutionMessage = this.conversationHistory
                    .reverse()
                    .find(msg => msg.role === 'assistant' && msg.content.includes('AUTOMATION OPPORTUNITIES'));
                
                return solutionMessage ? solutionMessage.content : 'Solution proposal generated';
            }

            calculateLeadScore() {
                let score = 25; // Base score for completing assessment
                
                // Score based on time value
                const timeValue = this.extractTimeValue(this.businessData.time_value);
                if (timeValue >= 100) score += 30;
                else if (timeValue >= 50) score += 20;
                else if (timeValue >= 25) score += 10;
                
                // Score based on time savings potential
                const timeSavings = this.extractTimeSavings(this.businessData.time_savings);
                if (timeSavings >= 10) score += 25;
                else if (timeSavings >= 5) score += 15;
                else if (timeSavings >= 2) score += 10;
                
                // Bonus for detailed pain points
                if (this.businessData.pain_points && this.businessData.pain_points.length > 50) {
                    score += 20;
                }
                
                return Math.min(score, 100);
            }

            extractTimeValue(timeValueText) {
                if (!timeValueText) return 0;
                const matches = timeValueText.match(/\$?(\d+)/);
                return matches ? parseInt(matches[1]) : 0;
            }

            extractTimeSavings(timeSavingsText) {
                if (!timeSavingsText) return 0;
                const matches = timeSavingsText.match(/(\d+)/);
                return matches ? parseInt(matches[1]) : 0;
            }

            openBackupEmail() {
                const contactName = this.businessData.contact_name || 'Not provided';
                const businessName = this.businessData.business_name || 'Not provided';
                const contactEmail = this.businessData.contact_email || 'Not provided';
                const contactPhone = this.businessData.contact_phone || 'Not provided';
                const painPoints = this.businessData.pain_points || 'Not provided';
                const currentSolution = this.businessData.current_solution || 'Not provided';
                const timeSavings = this.businessData.time_savings || 'Not provided';
                const timeValue = this.businessData.time_value || 'Not provided';

                const emailSubject = `ðŸ”¥ HOT LEAD: ${contactName} from ${businessName} (Score: ${this.calculateLeadScore()}/100)`;
                
                const emailBody = `URGENT: New qualified lead wants consultation!

CONTACT INFORMATION:
===================
Name: ${contactName}
Business: ${businessName}
Email: ${contactEmail}
Phone: ${contactPhone}

ASSESSMENT SUMMARY:
==================
Business Type: ${this.businessData.business_type || 'Not provided'}
Pain Points: ${painPoints}
Current Solutions: ${currentSolution}
Potential Time Savings: ${timeSavings}
Time Value: ${timeValue}
Lead Score: ${this.calculateLeadScore()}/100

FULL CONVERSATION:
==================
${this.conversationHistory.map(msg => `${msg.role.toUpperCase()}: ${msg.content}`).join('\n\n')}

ðŸŽ¯ ACTION REQUIRED: Contact within 24 hours to schedule consultation!`;

                const emailLink = `mailto:hello@jaxaiconsulting.com?subject=${encodeURIComponent(emailSubject)}&body=${encodeURIComponent(emailBody)}`;
                window.open(emailLink, '_blank');
            }

            checkAssessmentProgress() {
                // Using structured question flow instead
            }

            async getAIResponse(userMessage) {
                this.conversationHistory.push({
                    role: 'user',
                    content: userMessage
                });

                const systemPrompt = `You are Claude, conducting a focused 5-question business assessment for JAX AI Consulting. Your goal is to gather specific information efficiently.

Current question: ${this.currentQuestion}/5
Question focus: ${this.questionFlow[this.currentQuestion - 1]?.prompt}

Critical Guidelines:
- Keep responses under 80 words
- Ask ONLY the next question in the sequence - no follow-up questions
- Be conversational but direct
- Move immediately to the next question after they answer
- Do NOT ask additional follow-up questions beyond the 5 core questions
- Wait for their response to question 5 before generating any solution

Question flow (ask exactly these):
1. Tell me your name, location, and what type of business you run.
2. What current pain points or tasks are taking the most time or costing you revenue?
3. What solutions do you currently have in place for these challenges, or are you handling everything manually?
4. If we could automate or streamline these processes, how many hours per week do you think you could recapture?
5. What value do you put on your time per hour? This helps us calculate the ROI of potential solutions.

IMPORTANT: Only after they answer question 5 should you acknowledge their response and indicate that you'll create a solution proposal. Do NOT generate the proposal until they've answered question 5.`;

                try {
                    // Call your backend function - update this URL to match your Netlify site
                    const functionUrl = window.location.hostname === 'localhost' 
                        ? 'http://localhost:8888/.netlify/functions/ai-assessment'
                        : '/.netlify/functions/ai-assessment';
                        
                    console.log('Calling function at:', functionUrl); // Debug log
                    
                    const response = await fetch(functionUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            messages: this.conversationHistory,
                            systemPrompt: systemPrompt
                        })
                    });

                    console.log('Response status:', response.status); // Debug log

                    if (!response.ok) {
                        const errorData = await response.json().catch(() => ({}));
                        console.error('Backend Error:', response.status, errorData);
                        throw new Error(`Backend request failed with status ${response.status}: ${JSON.stringify(errorData)}`);
                    }

                    const data = await response.json();
                    const aiResponse = data.content[0].text;

                    this.conversationHistory.push({
                        role: 'assistant',
                        content: aiResponse
                    });

                    this.storeQuestionResponse(userMessage);
                    this.advanceQuestion();

                    return aiResponse;

                } catch (error) {
                    console.error('API Error:', error);
                    throw error;
                }
            }

            storeQuestionResponse(userMessage) {
                if (this.currentQuestion <= this.questionFlow.length) {
                    const currentQ = this.questionFlow[this.currentQuestion - 1];
                    this.businessData[currentQ.dataKey] = userMessage;
                }
            }

            advanceQuestion() {
                if (this.currentQuestion < this.maxQuestions) {
                    this.currentQuestion++;
                    this.updateStatus(`Question ${this.currentQuestion} of ${this.maxQuestions}`);
                } else {
                    // All 5 questions completed - generate solution proposal
                    this.updateStatus('Generating your AI solution proposal...');
                    setTimeout(() => {
                        this.generateSolutionProposal();
                    }, 1500);
                }
            }

            async generateSolutionProposal() {
                try {
                    // Create solution proposal prompt with pricing model
                    const solutionPrompt = `Based on the assessment conversation, create a comprehensive AI solution proposal for this business. 

Business context: ${JSON.stringify(this.businessData)}

IMPORTANT - Include JAX AI Consulting's Pay-for-Performance Pricing Model:
- No upfront costs - we build the solution first
- Client only pays AFTER the solution is delivered and working
- Fee is 10% of their confirmed annual time savings
- Example: If they save 4 hours/week at $50/hour = $10,400 annual savings = $1,040 fee
- Includes 12 months of ongoing support
- If we can't demonstrate measurable time savings, they pay nothing

Instructions:
1. Identify 2-3 specific AI automation opportunities based on their pain points
2. Calculate their potential annual savings using their time value and estimated weekly savings  
3. Show their fee as 10% of annual savings
4. Provide implementation plan and timeline
5. List solution benefits
6. Emphasize the no-risk, pay-for-performance model
7. ALWAYS end with: "Would you like to schedule an in-person consultation to discuss implementing this solution for your business?"

CRITICAL FORMATTING: Use clear section headers, bullet points, and line breaks for easy reading. Structure like:
## IDENTIFIED AUTOMATION OPPORTUNITIES
â€¢ Point 1
â€¢ Point 2

## POTENTIAL ANNUAL SAVINGS
â€¢ Calculation details

## YOUR INVESTMENT  
â€¢ Fee calculation

## IMPLEMENTATION PLAN
â€¢ Timeline details

## SOLUTION BENEFITS
â€¢ Benefit list

## NEXT STEPS
â€¢ Consultation question`;

                    this.addMessage('Let me analyze your needs and create a customized AI solution proposal...', 'thinking');

                    const response = await this.getAISolutionResponse(solutionPrompt);
                    this.removeLastMessage();
                    this.addMessage(response, 'ai');
                    
                    this.solutionProposalGenerated = true;
                    this.updateStatus('Please let me know if you\'d like to schedule a consultation');

                } catch (error) {
                    this.removeLastMessage();
                    this.showError('Error generating solution proposal. Please refresh and try again.');
                }
            }

            async getAISolutionResponse(solutionPrompt) {
                try {
                    const functionUrl = window.location.hostname === 'localhost' 
                        ? 'http://localhost:8888/.netlify/functions/ai-assessment'
                        : '/.netlify/functions/ai-assessment';

                    const response = await fetch(functionUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            messages: [{ role: 'user', content: solutionPrompt }],
                            systemPrompt: 'You are an AI consultant creating comprehensive solution proposals for small businesses.',
                            maxTokens: 1000  // Further increased for complete solution proposals
                        })
                    });

                    if (!response.ok) {
                        throw new Error(`Backend request failed with status ${response.status}`);
                    }

                    const data = await response.json();
                    const aiResponse = data.content[0].text;

                    // Add to conversation history for email
                    this.conversationHistory.push({
                        role: 'assistant',
                        content: aiResponse
                    });

                    return aiResponse;

                } catch (error) {
                    console.error('Solution API Error:', error);
                    throw error;
                }
            }

            addMessage(text, type) {
                const container = document.getElementById('conversationDisplay');
                const message = document.createElement('div');
                message.className = `message ${type}`;
                
                const label = document.createElement('div');
                label.className = 'message-label';
                
                if (type === 'ai') {
                    label.textContent = 'Claude (AI Consultant)';
                } else if (type === 'user') {
                    label.textContent = 'You';
                } else if (type === 'thinking') {
                    label.textContent = 'Claude is thinking...';
                }
                
                const content = document.createElement('div');
                content.className = 'message-content';
                
                // Enhanced formatting for better readability
                let formattedText = text
                    // Headers
                    .replace(/### (.*?)(\n|$)/g, '<h3>$1</h3>')
                    .replace(/## (.*?)(\n|$)/g, '<h3>$1</h3>')
                    .replace(/# (.*?)(\n|$)/g, '<h3>$1</h3>')
                    // Bold text
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    // Bullet points
                    .replace(/^\* (.*?)$/gm, 'â€¢ $1')
                    .replace(/^- (.*?)$/gm, 'â€¢ $1')
                    // Number lists
                    .replace(/^(\d+)\. (.*?)$/gm, '<strong>$1.</strong> $2')
                    // Line breaks for sections
                    .replace(/([A-Z][A-Z\s]+)(\n|$)/g, '<h3>$1</h3>')
                    // Ensure proper line breaks
                    .replace(/\n\n/g, '</p><p>')
                    .replace(/\n/g, '<br>');
                
                // Wrap in paragraph tags if not already formatted
                if (!formattedText.includes('<h3>') && !formattedText.includes('<p>')) {
                    formattedText = '<p>' + formattedText + '</p>';
                } else if (formattedText.includes('<br>') && !formattedText.includes('<p>')) {
                    formattedText = '<p>' + formattedText + '</p>';
                }
                
                content.innerHTML = formattedText;
                
                message.appendChild(label);
                message.appendChild(content);
                container.appendChild(message);
                
                container.scrollTop = container.scrollHeight;
            }

            removeLastMessage() {
                const container = document.getElementById('conversationDisplay');
                const lastMessage = container.lastElementChild;
                if (lastMessage) {
                    container.removeChild(lastMessage);
                }
            }

            showSummary() {
                const summaryCard = document.getElementById('summaryCard');
                const summaryContent = document.getElementById('summaryContent');
                
                let summaryHTML = '<p>Based on our conversation:</p>';
                
                Object.entries(this.businessData).forEach(([key, value]) => {
                    const label = this.formatLabel(key);
                    summaryHTML += `
                        <div class="summary-item">
                            <div class="summary-label">${label}</div>
                            <div class="summary-value">${value}</div>
                        </div>
                    `;
                });
                
                summaryContent.innerHTML = summaryHTML;
                summaryCard.style.display = 'block';
                
                this.updateCTAWithData();
                document.getElementById('inputSection').style.display = 'none';
            }

            formatLabel(key) {
                const labels = {
                    contact_name: 'Contact Name',
                    business_name: 'Business Name',
                    contact_email: 'Email Address',
                    contact_phone: 'Phone Number',
                    business_type: 'Business Type & Location',
                    pain_points: 'Current Pain Points',
                    current_solution: 'Current Solutions',
                    time_savings: 'Potential Time Savings',
                    time_value: 'Time Value Assessment'
                };
                return labels[key] || key.replace('_', ' ').toUpperCase();
            }

            updateCTAWithData() {
                const conversationSummary = this.conversationHistory
                    .map(msg => `${msg.role.toUpperCase()}: ${msg.content}`)
                    .join('\n\n');

                const emailBody = `Hi JAX AI Consulting,\n\nI completed your AI assessment. Here's our conversation:\n\n${conversationSummary}\n\nI'm interested in learning more about AI solutions for my business.\n\nBest regards`;
                
                const emailLink = `mailto:hello@jaxaiconsulting.com?subject=${encodeURIComponent('AI Assessment Results')}&body=${encodeURIComponent(emailBody)}`;
                
                document.getElementById('emailResultsButton').href = emailLink;
            }

            showError(message) {
                const errorDiv = document.getElementById('errorMessage');
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
                
                setTimeout(() => {
                    errorDiv.style.display = 'none';
                }, 5000);
            }
        }
    </script>
</body>
</html>
